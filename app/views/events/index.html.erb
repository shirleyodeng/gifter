<div class="container fill-high yellow-background">

  <%= cl_image_tag (current_user.photo.present? ? current_user.photo : 'default-profile-image'), width: 70, height: 70, crop: :thumb, gravity: :face, class: "avatar-lg user-default-image"%>

  <h1 class="user-name"><%= current_user.first_name.capitalize %>'s Dashboard</h1>

  <div class="red-banner"></div>

  <div class="events-container">
    <% if @upcoming_events.length == 0 %>
      <h2 style="margin-left: 30px;"> You have no upcoming events </h2>
    <% else %>
      <h2>Your Upcoming Events!</h2>


        <div class="row" style="margin-left: 0.45%">
          <% if @upcoming_events.length >= 4 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 custom">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "sad_face", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text gray-text">Make a contribution</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
        </div>

        <div class="row">
          <% elsif @upcoming_events.length == 3 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "sad_face", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text gray-text">Make a contribution</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>


          <% elsif @upcoming_events.length == 2 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-6 col-md-4 col-md-offset-2 col-lg-3 col-lg-offest-3">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "sad_face", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text gray-text">Make a contribution</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>

          <% elsif @upcoming_events.length == 1 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "sad_face", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text gray-text">Make a contribution</p>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
    <% end %>

  </div>


  <div class="red-banner">
  </div>

  <div class=events-container>
    <% if @events.length == 0 %>
      <h2 style="margin-left: 30px;" > You are not hosting any events.</h2> <% link_to "Add an event!", new_event_path(@events) %>
    <% else %>
      <h2 style="margin-left: 30px;" >Your hosting events</h2>


          <% if @events.length >= 4 %>
            <div class="row" style="margin-left: 0.45%">
              <% @events.each do |event| %>
                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 custom">
                  <div class="events-container">
                    <div class="event-card">
                      <div class="event-information">
                        <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                        <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                        <div class="event-icons">
                          <div class="event-box">
                            <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                            <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                          </div>
                          <div class="event-box">
                            <a href data-toggle="modal" data-target="#myModal" id="edit">
                              <%= cl_image_tag "envelope", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                              <p class="icon-hover-text gray-text">Send invites</p>
                            </a>
                            <div class="modal fade" id="myModal" role="dialog">
                              <div class="modal-dialog modal-md">
                                <div class="modal-content">
                                  <div class="modal-header text-center">
                                    <button type="button" class="close" data-dismiss="modal">x</button>
                                    <h3 class="form-title spacing blue-font text-center">Invite your friends and family</h3>
                                  </div>
                                  <div class="modal-body text-center">
                                    <div class="">
                                      <%= render 'shared/eventpageform', event_id: event.id %>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="event-box">
                            <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                            <p class="icon-hover-text red-text">View messages</p>
                          </div>
                        </div>
                        <div class="red-text delete-button"><%= link_to "x", event_path(event), method: :delete %></div>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>

        <div class="row">
          <% if @events.length == 3 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <a href data-toggle="modal" data-target="#myModal" id="edit">
                            <%= cl_image_tag "envelope", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                            <p class="icon-hover-text gray-text">Send invites</p>
                          </a>
                          <div class="modal fade" id="myModal" role="dialog">
                            <div class="modal-dialog modal-md">
                              <div class="modal-content">
                                <div class="modal-header text-center">
                                  <button type="button" class="close" data-dismiss="modal">x</button>
                                  <h3 class="form-title spacing blue-font text-center">Invite your friends and family</h3>
                                </div>
                                <div class="modal-body text-center">
                                  <div class="">
                                    <%= render 'shared/eventpageform', event_id: event.id %>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                      <div class="red-text delete-button"><%= link_to "x", event_path(event), method: :delete %></div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>

          <% if @events.length == 2 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-6 col-md-4 col-md-offset-2 col-lg-3 col-lg-offest-3">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <a href data-toggle="modal" data-target="#myModal" id="edit">
                            <%= cl_image_tag "envelope", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                            <p class="icon-hover-text gray-text">Send invites</p>
                          </a>
                          <div class="modal fade" id="myModal" role="dialog">
                            <div class="modal-dialog modal-md">
                              <div class="modal-content">
                                <div class="modal-header text-center">
                                  <button type="button" class="close" data-dismiss="modal">x</button>
                                  <h3 class="form-title spacing blue-font text-center">Invite your friends and family</h3>
                                </div>
                                <div class="modal-body text-center">
                                  <div class="">
                                    <%= render 'shared/eventpageform', event_id: event.id %>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                      <div class="red-text delete-button"><%= link_to "x", event_path(event), method: :delete %></div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>

          <% if @events.length == 1 %>
            <% @events.each do |event| %>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="events-container">
                  <div class="event-card">
                    <div class="event-information">
                      <div><%= cl_image_tag event.child_photo, height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-icon-image" %></div>
                      <div class="event-title"><%= event.child_name.capitalize %>'s <%= event.name.capitalize %></div>
                      <div class="event-icons">
                        <div class="event-box">
                          <%= link_to (cl_image_tag "box", height: 50, width: 50, crop: :thumb, gravity: :face), event_gifts_path(event), class: "user-dashboard-icon" %>
                          <p class="icon-hover-text yellow-text"><%= event.child_name.capitalize %>'s gifts</p>
                        </div>
                        <div class="event-box">
                          <a href data-toggle="modal" data-target="#myModal" id="edit">
                            <%= cl_image_tag "envelope", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                            <p class="icon-hover-text gray-text">Send invites</p>
                          </a>
                          <div class="modal fade" id="myModal" role="dialog">
                            <div class="modal-dialog modal-md">
                              <div class="modal-content">
                                <div class="modal-header text-center">
                                  <button type="button" class="close" data-dismiss="modal">x</button>
                                  <h3 class="form-title spacing blue-font text-center">Invite your friends and family</h3>
                                </div>
                                <div class="modal-body text-center">
                                  <div class="">
                                    <%= render 'shared/form', event_id: event.id %>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="event-box">
                          <%= cl_image_tag "mail", height: 50, width: 50, crop: :thumb, gravity: :face, class: "user-dashboard-icon" %>
                          <p class="icon-hover-text red-text">View messages</p>
                        </div>
                      </div>
                      <div class="red-text delete-button"><%= link_to "x", event_path(event), method: :delete %></div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
    <% end %>
  </div>
  <%= link_to "Add event", new_event_path, class: "btn-red user-index-button" %>
</div>
